<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Incanto · Kundenportal</title>
  <link rel="icon" type="image/svg+xml" href="icons/incanto.svg">
  <style>
    body{font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial; margin:0; background:#f8fafc; color:#0f172a}
    header{position:sticky; top:0; background:#fff; border-bottom:1px solid #e5e7eb; padding:12px 16px; display:flex; align-items:center; gap:10px}
    .logo{width:28px; height:28px; border:1px solid #e5e7eb; border-radius:8px; background:#fff; display:grid; place-items:center}
    .logo img{width:22px; height:22px; object-fit:contain}
    .container{max-width:1000px; margin:0 auto; padding:16px}
    h1{font-size:20px; margin:0}
    .hint{color:#6b7280}
    .card{background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:16px; margin-bottom:16px}
    table{width:100%; border-collapse:collapse}
    th,td{padding:8px; border-bottom:1px solid #eef2f7; text-align:left}
    .photos{display:flex; gap:8px; flex-wrap:wrap}
    .photos img{width:120px; height:90px; object-fit:cover; border-radius:8px; border:1px solid #e5e7eb}
  </style>
  <!-- Supabase JS v2 CDN -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <!-- Your project config (fill in URL & anon key) -->
  <script src="config.js"></script>
  <!-- RPC-based portal code -->
  <script src="portal.js" defer></script>
</head>
<body>
  <header>
    <div class="logo">
      <picture><source src="icons/incanto.svg" type="image/svg+xml"><img src="icons/incanto_192.png" alt="Incanto"></picture>
    </div>
    <div>
      <h1 id="client">Incanto · Kundenportal</h1>
      <div id="range" class="hint"></div>
    </div>
  </header>
  <main class="container">
    <section class="card">
      <h2>Zeiteinträge</h2>
      <table>
        <thead><tr><th>Mitarbeiter</th><th>Bereich</th><th>Start</th><th>Ende</th><th>Dauer (Min)</th><th>Notiz</th></tr></thead>
        <tbody id="times"></tbody>
      </table>
    </section>
    <section class="card">
      <h2>Einsätze</h2>
      <table>
        <thead><tr><th>Titel</th><th>Bereich</th><th>Mitarbeiter</th><th>Geplant</th><th>Status</th><th>Adresse</th></tr></thead>
        <tbody id="orders"></tbody>
      </table>
    </section>
    <section class="card">
      <h2>Fotos</h2>
      <div id="photos" class="photos"><em class="hint">Keine Fotos freigegeben.</em></div>
    </section>
  </main>
</body>
</html>
